{% extends 'base.html' %}
{% block content %}
<div class="max-w-3xl mx-auto py-10">
    <h2 class="text-2xl font-bold mb-6">Edit Job</h2>
    <form method="POST">
        <div class="grid grid-cols-1 gap-4">
            <div>
                <label class="block text-gray-700">Title</label>
                <input type="text" name="title" value="{{ job.title }}" class="w-full border border-gray-300 p-2 rounded" required>
            </div>
            <div>
                <label class="block text-gray-700">Description</label>
                <textarea name="description" rows="4" class="w-full border border-gray-300 p-2 rounded" required>{{ job.description }}</textarea>
            </div>
            <div class="flex gap-4">
                <div class="flex-1">
                    <label class="block text-gray-700">Location</label>
                    <input type="text" name="location" value="{{ job.location }}" class="w-full border border-gray-300 p-2 rounded">
                </div>
                <div class="flex-1">
                    <label class="block text-gray-700">Salary Min</label>
                    <input type="number" name="salary_min" value="{{ job.salary_min }}" class="w-full border border-gray-300 p-2 rounded">
                </div>
                <div class="flex-1">
                    <label class="block text-gray-700">Salary Max</label>
                    <input type="number" name="salary_max" value="{{ job.salary_max }}" class="w-full border border-gray-300 p-2 rounded">
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-1">
                    <label class="block text-gray-700">Job Type</label>
                    <select name="job_type" class="w-full border border-gray-300 p-2 rounded">
                        {% for jt in job_types %}
                        <option value="{{ jt.name }}" {% if job.job_type == jt %}selected{% endif %}>{{ jt.value }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="flex-1">
                    <label class="block text-gray-700">Experience Level</label>
                    <select name="experience_level" class="w-full border border-gray-300 p-2 rounded">
                        {% for el in experience_levels %}
                        <option value="{{ el.name }}" {% if job.experience_level == el %}selected{% endif %}>{{ el.value }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-1">
                    <label class="block text-gray-700">Category</label>
                    <select name="category_id" class="w-full border border-gray-300 p-2 rounded">
                        {% for cat in categories %}
                        <option value="{{ cat.id }}" {% if job.category_id == cat.id %}selected{% endif %}>{{ cat.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="flex-1">
                    <label class="block text-gray-700">Company</label>
                    <select name="company_id" class="w-full border border-gray-300 p-2 rounded">
                        {% for comp in companies %}
                        <option value="{{ comp.id }}" {% if job.company_id == comp.id %}selected{% endif %}>{{ comp.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="flex items-center">
                <input type="checkbox" name="is_active" id="is_active" class="mr-2" {% if job.is_active %}checked{% endif %}>
                <label for="is_active" class="text-gray-700">Active</label>
            </div>
            <div class="flex gap-4 justify-end mt-4">
                <button type="submit" class="bg-gray-300 text-gray-800 px-5 py-2 rounded">Save</button>
                <a href="{{ url_for('admin_jobs') }}" class="bg-gray-300 text-gray-800 px-5 py-2 rounded">Cancel</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}
